(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{45:function(e,t,a){},54:function(e,t,a){e.exports=a(92)},59:function(e,t,a){},81:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(27),s=a.n(c),i=a(2),l=(a(59),a(11)),u=a(21),o=a(24),m=a(22),d=a(25),f=a(18),h=a(7),p=a(13),v=a(23),E=a.n(v),g=function e(){var t=this;Object(l.a)(this,e),this.signup=function(e,a){return t.service.post("/signup",{username:e,password:a}).then((function(e){return e.data}))},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then((function(e){return e.data}))},this.loggedin=function(){return t.service.get("/currentuser").then((function(e){return e.data}))},this.logout=function(){return t.service.get("/logout").then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.service=E.a.create({baseURL:"".concat("https://wherever-eat-takes.herokuapp.com","/auth"),withCredentials:!0})},b=(a(45),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password;a.validateUsername(n),a.validatePassword(r),a.service.signup(n,r).then((function(e){a.setState({username:"",password:""}),a.props.getUser(e.user),a.props.history.push("/")})).catch((function(e){console.log(e.message),a.setState({username:n,password:r})}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(p.a)({},n,r))},a.validateUsername=function(e){e.match(/^\w{3,12}$/)||a.setState(Object(h.a)({},a.state,{invalidUsername:"Invalid username"}))},a.validatePassword=function(e){e.match(/^(?=.*[0-9])(?=.*[a-zA-Z])\w{8,16}$/)||a.setState(Object(h.a)({},a.state,{invalidPassword:"The password must contain from 8 to 16 characters and at least 1 digit and character"}))},a.state={username:"",password:""},a.service=new g,a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"user-container"},r.a.createElement("div",{className:"user-options"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"user-option selected"},r.a.createElement(i.b,{className:"link",to:"/signup"},"New here")),r.a.createElement("div",{className:"user-option"},r.a.createElement(i.b,{className:"link",to:"/login"},"Already user")))),r.a.createElement("div",{className:"user-login flex-column"},r.a.createElement("h3",null,"Sign up using your username"),r.a.createElement("form",{className:"signup-form",onSubmit:this.handleFormSubmit},r.a.createElement("div",{className:"flex-column"},r.a.createElement("fieldset",null,r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",placeholder:"userN...",value:this.state.username,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("p",null,this.state.invalidUsername?"".concat(this.state.invalidUsername):""),r.a.createElement("fieldset",null,r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",placeholder:"********",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("p",null,this.state.invalidPassword?"".concat(this.state.invalidPassword):"")),r.a.createElement("input",{className:"submit-signup",type:"submit",value:"Sign up"}))))}}]),t}(n.Component)),y=Object(f.h)(b),O=a(14),w=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;a.service.login(t,n).then((function(e){a.setState({username:t,password:n,error:!1}),a.props.getUser(e),a.props.history.goBack()})).catch((function(e){a.setState({username:t,password:n,error:!0})}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(p.a)({},n,r))},a.state={username:"",password:""},a.service=new g,a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"user-container"},r.a.createElement("div",{className:"user-options"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"user-option"},r.a.createElement(i.b,{className:"link",to:"/signup"},"New here")),r.a.createElement("div",{className:"user-option selected"},r.a.createElement(i.b,{className:"link",to:"/login"},"Already user")))),r.a.createElement("div",{className:"user-login flex-column"},r.a.createElement("h3",null,"Sign In with username"),r.a.createElement("form",{className:"signup-form",onSubmit:this.handleFormSubmit},r.a.createElement("div",{className:"flex-column"},r.a.createElement("fieldset",{className:"flex-column"},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",{className:"flex-column"},r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}}))),r.a.createElement("input",{className:"submit-signup",type:"submit",value:"Log in"})),r.a.createElement("p",null,this.state.error?"Wrong username or password":"")))}}]),t}(n.Component),j=Object(O.b)((function(e){return{user:e.authentication.user}}))(Object(f.h)(w)),N=(a(81),a(4)),S=a(28),k=a(29),x=a(5),C=a(6);function U(){var e=Object(S.a)(["\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  z-index: 10;\n\n  &:focus {\n    outline: none;\n  }\n\n  @media (min-width: 576px) {\n    display:none\n  }\n\n  div {\n    width: 2rem;\n    height: 0.25rem;\n    background: ",";\n    border-radius: 10px;\n    transition: all 0.3s linear;\n    position: relative;\n    transform-origin: 1px;\n\n    :first-child {\n      transform: ",";\n    }\n\n    :nth-child(2) {\n      opacity: ",";\n      transform: ",";\n    }\n\n    :nth-child(3) {\n      transform: ",";\n    }\n  }\n"]);return U=function(){return e},e}var R=k.a.button(U(),(function(e){return e.open?"#0D0C1D":"#EFFFFA"}),(function(e){return e.open?"rotate(45deg)":"rotate(0)"}),(function(e){return e.open?"0":"1"}),(function(e){return e.open?"translateX(20px)":"translateX(0)"}),(function(e){return e.open?"rotate(-45deg)":"rotate(0)"})),A=function(e){var t=e.open,a=e.setOpen;return r.a.createElement(R,{onClick:function(){return a(!t)}},r.a.createElement(x.a,{icon:C.a,size:"3x"}),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))};function T(){var e=Object(S.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  background: #EFFFFA;\n  transform: ",";\n  height: 100vh;\n  text-align: left;\n  padding: 2rem;\n  position: absolute;\n  top: 0;\n  left: 0;\n  transition: transform 0.3s ease-in-out;\n\n  @media (max-width: 576px) {\n      width: 100%;\n    }\n\n  a {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n    &:hover {\n      color: #343078;\n    }\n  }\n"]);return T=function(){return e},e}var _=k.a.nav(T(),(function(e){return e.open?"translateX(0)":"translateX(-100%)"})),I=function(e){var t=e.open,a=e.setOpen;return r.a.createElement(_,{open:t,onClick:function(){return a(!t)}},r.a.createElement(i.b,{className:"link",to:"/"},"Home"),r.a.createElement(i.b,{className:"link",to:"/favourites"},"Favourites"),r.a.createElement(i.b,{className:"link",to:"/edit"},"Edit Restaurants"))},F=(a(84),function(e){var t=e.title,a=e.user,n=e.logout,c=r.a.useState(!1),s=Object(N.a)(c,2),l=s[0],u=s[1];return r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"container"},r.a.createElement(A,{open:l,setOpen:u}),r.a.createElement(I,{open:l,setOpen:u}),r.a.createElement("p",null,t),r.a.createElement("span",{className:"icons"},r.a.createElement(i.b,{className:"link min-width",to:"/"},r.a.createElement(x.a,{icon:C.f,size:"3x"})),r.a.createElement(i.b,{className:"link min-width",to:"/favourites"},r.a.createElement(x.a,{icon:C.j,size:"3x"})),r.a.createElement(i.b,{className:"link min-width",to:"/edit"},r.a.createElement(x.a,{icon:C.g,size:"3x"})),r.a.createElement(i.b,{className:"link",to:"/search"},r.a.createElement(x.a,{icon:C.h,size:"3x"}))),a?r.a.createElement(x.a,{icon:C.i,size:"3x",onClick:n}):r.a.createElement(i.b,{className:"link",to:"/login"},r.a.createElement(x.a,{icon:C.l,size:"3x"}))))}),L=function e(){var t=this;Object(l.a)(this,e),this.getAll=function(){return t.service.get("/restaurants").then((function(e){return e.data}))},this.getOne=function(e){return t.service.get("/restaurant/".concat(e)).then((function(e){return e.data}))},this.newRestaurant=function(e,a,n,r,c,s,i,l){return console.log("SERVICE"),t.service.post("/new",{name:e,neighborhood:a,photograph:n,location:r,image:c,cuisine_type:s,timetable:i,reviews:l}).then((function(e){return e.data}))},this.removeRestaurant=function(e){return t.service.post("/remove/".concat(e)).then((function(e){return e.data}))},this.editRestaurant=function(e,a,n,r,c,s,i,l,u){return t.service.post("/edit/".concat(e),{name:a,neighborhood:n,photograph:r,location:c,image:s,cuisine_type:i,timetable:l,reviews:u}).then((function(e){return e.data}))},this.service=E.a.create({baseURL:"".concat("https://wherever-eat-takes.herokuapp.com","/restaurants"),withCredentials:!0})},D=function e(){var t=this;Object(l.a)(this,e),this.updateUserLike=function(e){return t.service.post("/updateLike",{updatedUserObj:e}).then((function(e){return e.data}))},this.removeUserLike=function(e){return t.service.post("/removeLike",{restaurant:e}).then((function(e){return e.data}))},this.service=E.a.create({baseURL:"".concat("https://wherever-eat-takes.herokuapp.com","/likes"),withCredentials:!0})},z=(a(85),function(e){var t,a,c=e.user,s=Object(f.g)().restaurantId,i=new L,l=new D,u=Object(f.f)(),o=Object(n.useState)(c),m=Object(N.a)(o,2),d=m[0],h=m[1],p=Object(n.useState)({}),v=Object(N.a)(p,2),E=v[0],g=v[1],b=Object(n.useState)(!0),y=Object(N.a)(b,2),O=y[0],w=y[1],j=Object(n.useState)(!1),S=Object(N.a)(j,2),k=S[0],U=S[1],R=Object(n.useState)(!1),A=Object(N.a)(R,2),T=A[0],_=A[1],I={},F=[];Object(n.useEffect)((function(){i.getOne(s).then((function(e){g(e),d.likes.includes(e.id)?_(!0):_(!1)})).catch((function(e){return console.log(e)}))}),[]),E.reviews&&(I=E.timetable,F=E.reviews),F.length>0&&(t=F.map((function(e){return Object.keys(e).map((function(t){return"_id"!==t?r.a.createElement("div",{className:t+"-review"},e[t]):null}))}))),I&&(a=r.a.createElement("ul",null,Object.keys(I).map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("span",null,e+": "),I[e])}))));return E.image?r.a.createElement("div",{className:"container-details"},r.a.createElement("div",{className:"restaurant-name"},E.name),r.a.createElement("div",{className:"image-restaurant"},r.a.createElement("img",{src:"".concat(E.image),alt:"".concat(E.name)})),r.a.createElement("div",{className:"cuisine restaurant-name"},"Cuisine Type: ",E.cuisine_type),r.a.createElement("div",{className:"timetable restaurant-name",onClick:function(){return w(!O)}},"Timetable"," ",O?r.a.createElement(x.a,{icon:C.d}):r.a.createElement(x.a,{icon:C.c}),O?"":a),r.a.createElement("div",{className:"reviews restaurant-name",onClick:function(){return U(!k)}},"Reviews"," ",k?r.a.createElement(x.a,{icon:C.c}):r.a.createElement(x.a,{icon:C.d})),k?r.a.createElement("div",{className:"review-comments"},t):"",r.a.createElement("div",{className:T?"favourite":"restaurant-like unfavourite",onClick:function(){return function(){if(!c)return u.push("/login");d.likes.includes(E.id)?l.removeUserLike(s).then((function(e){c=e,h(e),_(!1)})).catch((function(e){return console.log(e)})):l.updateUserLike(s).then((function(e){c=e,h(e),_(!0)})).catch((function(e){return console.log(e)}))}()}},T?"Marked as Favourite ":"Do you know it? Mark it as favourite "," ",T?r.a.createElement(x.a,{icon:C.b}):r.a.createElement(x.a,{icon:C.e}))):r.a.createElement("div",{className:"content spinner"},r.a.createElement("div",{className:"lds-hourglass"}))}),H="FETCH_DATA_REQUEST",M="FETCH_DATA_SUCCESS",P="FETCH_DATA_ERROR",W="REMOVE_RESTAURANT";function B(){return{type:H}}function G(e){return{type:M,restaurant:e}}function X(e){return{type:P,payload:{error:e}}}var J=new L;function Q(){return function(e){e(B()),J.getAll().then((function(t){e(G(t))}),(function(t){e(X(t))}))}}a(86);var V=function(e){var t=e.place;return r.a.createElement("div",{className:"grid-photo-wrap flex"},r.a.createElement(i.b,{to:"/restaurant/".concat(t.id),restaurant:t},t.image?r.a.createElement("img",{src:t.image,alt:t.name,className:"grid-photo"}):r.a.createElement("div",null,t.name)))},$=(a(87),Object(O.b)((function(e){return{restaurants:e.products.restaurants}}))((function(e){var t=e.restaurants;return t[0]?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"restaurant-grid"},t.map((function(e,t){return r.a.createElement(V,{key:t,place:e})})))):r.a.createElement("div",{className:"content spinner"},r.a.createElement("div",{className:"lds-hourglass"}))}))),Z=(a(88),function(e){var t,a=e.restaurants,c=Object(n.useState)(""),s=Object(N.a)(c,2),i=s[0],l=s[1];return t=a.restaurants.filter((function(e){return e.name.toLowerCase().includes(i.toLowerCase())})),r.a.createElement("div",null,r.a.createElement("input",{type:"text",name:"searchbar",placeholder:"Search restaurants",className:"searchbar",onChange:function(e){return l(e.target.value)}}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"restaurant-grid"},t.map((function(e,t){return r.a.createElement(V,{key:t,place:e})})))))}),q=(a(89),function(e){var t,a=e.restaurants,c=e.user,s=Object(n.useState)([]),i=Object(N.a)(s,2),l=i[0],u=i[1];return Object(n.useEffect)((function(){var e=[];c&&a.restaurants.filter((function(t){return c.likes.includes(t.id)?e.push(t):[]})),u(e)}),[]),c||(t=r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"no-user flex"},"Log In to see favourite restaurants."))),c&&l.length>0?t=r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"restaurant-grid"},l.map((function(e,t){return r.a.createElement(V,{key:t,place:e})})))):c&&l.length<=0&&(t=r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"no-user flex"},"No favourite restaurants yet."))),r.a.createElement("div",null,t)}),K=(a(90),function(e){var t=e.state,a=e.setState;return r.a.createElement("div",null,r.a.createElement("label",null,"Name: "),r.a.createElement("input",{type:"text",onChange:function(e){return a(Object(h.a)({},t,{name:e.target.value}))},value:t.name}))}),Y=function(e){var t=e.state,a=e.setState;return r.a.createElement("div",null,r.a.createElement("label",null,"Image: "),r.a.createElement("input",{type:"text",onChange:function(e){return a(Object(h.a)({},t,{image:e.target.value}))},value:t.image}))},ee=function(e){var t=e.state,a=e.setState;return r.a.createElement("div",null,r.a.createElement("label",null,"Cuisine: "),r.a.createElement("input",{type:"text",onChange:function(e){return a(Object(h.a)({},t,{cuisine_type:e.target.value}))},value:t.cuisine_type}))},te=function(e){var t=e.state,a=e.setState,n=function(e){a(Object(h.a)({},t,{timetable:Object(p.a)({monday:t.timetable.monday,tuesday:t.timetable.tuesday,wednesday:t.timetable.wednesday,thursday:t.timetable.thursday,friday:t.timetable.friday,saturday:t.timetable.saturday,sunday:t.timetable.sunday},e.name,e.value)}))};return r.a.createElement("div",{className:"object-input"},r.a.createElement("h2",null,"Timetable:"),r.a.createElement("div",null,r.a.createElement("label",null,"Monday:"),r.a.createElement("input",{type:"text",name:"monday",onChange:function(e){return n(e.target)},value:t.timetable.monday})),r.a.createElement("div",null,r.a.createElement("label",null,"Tuesday:"),r.a.createElement("input",{type:"text",name:"tuesday",onChange:function(e){return n(e.target)},value:t.timetable.tuesday})),r.a.createElement("div",null,r.a.createElement("label",null,"Wednesday:"),r.a.createElement("input",{type:"text",name:"wednesday",onChange:function(e){return n(e.target)},value:t.timetable.wednesday})),r.a.createElement("div",null,r.a.createElement("label",null,"Thursday:"),r.a.createElement("input",{type:"text",name:"thursday",onChange:function(e){return n(e.target)},value:t.timetable.thursday})),r.a.createElement("div",null,r.a.createElement("label",null,"Friday:"),r.a.createElement("input",{type:"text",name:"friday",onChange:function(e){return n(e.target)},value:t.timetable.friday})),r.a.createElement("div",null,r.a.createElement("label",null,"Saturday:"),r.a.createElement("input",{type:"text",name:"saturday",onChange:function(e){return n(e.target)},value:t.timetable.saturday})),r.a.createElement("div",null,r.a.createElement("label",null,"Sunday:"),r.a.createElement("input",{type:"text",name:"sunday",onChange:function(e){return n(e.target)},value:t.timetable.sunday})))},ae=a(52),ne=function(e){var t=e.state,a=e.setState,c=Object(n.useState)([]),s=Object(N.a)(c,2),i=s[0],l=s[1],u=function(e,n){t.reviews[n]?t.reviews[n]=Object(p.a)({name:t.reviews[n].name,comments:t.reviews[n].comments},e.name,e.value):t.reviews[n]=Object(p.a)({name:"",comments:""},e.name,e.value),a(Object(h.a)({},t))};Object(n.useEffect)((function(){l(t.reviews)}),[t.id]);var o=i.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement("div",null,r.a.createElement("label",null,"Name:"),r.a.createElement("input",{type:"text",name:"name",onChange:function(e){return u(e.target,t)},value:e.name})),r.a.createElement("div",null,r.a.createElement("label",null,"Comment:"),r.a.createElement("textarea",{cols:"30",rows:"10",name:"comments",onChange:function(e){return u(e.target,t)},value:e.comments})))}));return r.a.createElement("div",{className:"object-input"},r.a.createElement("h2",null,"Reviews:"),t.id?o:" ",i&&!t.id?o:"",r.a.createElement("button",{onClick:function(){return l([].concat(Object(ae.a)(i),["new"]))}},"Add Review"))},re=function(e){var t=e.addedRestaurant,a=Object(f.g)().restaurantId,c=Object(f.f)(),s=Object(n.useState)({name:"",neighborhood:"",photograph:"",location:{adress:"",coordinates:[]},image:"",cuisine_type:"",timetable:{monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:""},reviews:[]}),i=Object(N.a)(s,2),l=i[0],u=i[1],o=new L;Object(n.useEffect)((function(){o.getOne(a).then((function(e){u(e)})).catch((function(e){return console.log(e)}))}),[]);return r.a.createElement("div",{className:"restaurant-form flex-column"},r.a.createElement("h1",null,"RESTAURANT DATA:"),r.a.createElement(K,{state:l,setState:u}),r.a.createElement(Y,{state:l,setState:u}),r.a.createElement(ee,{state:l,setState:u}),r.a.createElement(te,{state:l,setState:u}),r.a.createElement(ne,{state:l,setState:u}),r.a.createElement("button",{onClick:l.id?function(){return e=l.id,t=l.name,n=l.neighborhood,r=l.photograph,s=l.location,i=l.image,u=l.cuisine_type,m=l.timetable,d=l.reviews,void o.editRestaurant(e,t,n,r,s,i,u,m,d).then((function(){return c.push("/restaurant/".concat(a))}));var e,t,n,r,s,i,u,m,d}:function(){return e=l.name,a=l.neighborhood,n=l.photograph,r=l.location,c=l.image,s=l.cuisine_type,i=l.timetable,u=l.reviews,void o.newRestaurant(e,a,n,r,c,s,i,u).then((function(){return t()}));var e,a,n,r,c,s,i,u}},"SUBMIT RESTAURANT"))},ce=(a(91),{removeRestaurant:function(e){return function(t){t(B()),J.removeRestaurant(e).then((function(e){t(function(e){return{type:W,restaurant:e}}(e)),J.getAll().then((function(e){t(G(e))}),(function(e){t(X(e))}))}),(function(e){t(X(e))}))}},fetchRestaurants:Q}),se=Object(O.b)((function(e){return{restaurants:e.products.restaurants,loading:e.products.loading,error:e.products.error}}),ce)((function(e){var t,a=e.restaurants,c=e.removeRestaurant,s=e.fetchRestaurants,l=Object(n.useState)(""),u=Object(N.a)(l,2),o=u[0],m=u[1],d=Object(n.useState)(!1),h=Object(N.a)(d,2),p=h[0],v=h[1],E=Object(n.useState)(!1),g=Object(N.a)(E,2),b=g[0],y=g[1],O=Object(n.useState)(!1),w=Object(N.a)(O,2),j=w[0],S=w[1],k=Object(f.f)();return t=a.filter((function(e){return e.name.toLowerCase().includes(o.toLowerCase())})),r.a.createElement("div",{className:"edit-container flex-column"},r.a.createElement("div",{className:"section-1 flex-column"},r.a.createElement("input",{type:"text",name:"searchbar",placeholder:"Search restaurants",className:"searchbar",onChange:function(e){return m(e.target.value)}}),r.a.createElement("div",{className:"flex edit-options"},r.a.createElement("span",{onClick:function(){return S(!j)}},"Add"),r.a.createElement("span",{onClick:function(){return y(!b)}},"Remove"),r.a.createElement("span",{onClick:function(){return v(!p)}},"Edit"))),j?r.a.createElement(re,{addedRestaurant:function(){S(!1),s()}}):"",r.a.createElement("div",{className:"section-2 flex"},r.a.createElement("ul",{className:"restaurant-grid"},t.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("div",{className:"flex button-edit"},r.a.createElement(i.b,{to:"/restaurant/".concat(e.id),restaurant:e},e.name," "),r.a.createElement("div",null,p?r.a.createElement(x.a,{icon:C.g,onClick:function(){return t=e.id,void k.push("/edit/".concat(t));var t},size:"2x"}):"",b?r.a.createElement(x.a,{icon:C.k,size:"2x",onClick:function(){return c(e.id)}}):"")))})))))})),ie=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).getUser=function(e){a.setState({loggedInUser:e})},a.logout=function(){a.service.logout().then((function(){a.setState({loggedInUser:null})})).catch((function(e){return console.log(e)}))},a.state={loggedInUser:null},a.service=new g,a.fetchUser(),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Q())}},{key:"fetchUser",value:function(){var e=this;return this.service.loggedin().then((function(t){e.setState({loggedInUser:t})})).catch((function(t){e.setState({loggedInUser:!1})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App app-container"},r.a.createElement(F,{title:"Wherever Eat Takes",user:this.state.loggedInUser,logout:function(){return e.logout()}}),r.a.createElement("div",{className:"content"},r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:"/",render:function(){return r.a.createElement($,{restaurants:e.props,getUser:e.getUser})}}),r.a.createElement(f.a,{exact:!0,path:"/signup",render:function(){return r.a.createElement(y,{getUser:e.getUser})}}),r.a.createElement(f.a,{exact:!0,path:"/login",render:function(){return r.a.createElement(j,{getUser:e.getUser})}}),r.a.createElement(f.a,{exact:!0,path:"/restaurant/:restaurantId",render:function(){return r.a.createElement(z,{user:e.state.loggedInUser})}}),r.a.createElement(f.a,{exact:!0,path:"/search",render:function(){return r.a.createElement(Z,{restaurants:e.props,getUser:e.getUser})}}),r.a.createElement(f.a,{exact:!0,path:"/favourites",render:function(){return r.a.createElement(q,{restaurants:e.props,user:e.state.loggedInUser})}}),r.a.createElement(f.a,{exact:!0,path:"/edit",render:function(){return r.a.createElement(se,null)}}),r.a.createElement(f.a,{exact:!0,path:"/edit/:restaurantId",render:function(){return r.a.createElement(re,null)}}))))}}]),t}(n.Component),le=Object(O.b)((function(e){return{user:e.products.user,restaurants:e.products.restaurants,loading:e.products.loading,error:e.products.error}}))(ie);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ue=a(19),oe=a(51),me={restaurants:[],loading:!1,error:null};var de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DATA_REQUEST":return Object(h.a)({},e,{loading:!0,error:null});case"FETCH_DATA_SUCCESS":return Object(h.a)({},e,{loading:!1,restaurants:t.restaurant});case"FETCH_DATA_ERROR":return Object(h.a)({},e,{loading:!1,error:t.payload.error,restaurants:[]});case"REMOVE_RESTAURANT":return Object(h.a)({},e,{loading:!1});default:return e}},fe=JSON.parse(localStorage.getItem("user")),he=fe?{loggedIn:!0,user:fe}:{};var pe=Object(ue.c)({authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERS_LOGIN_REQUEST":return{loggingIn:!0,user:t.user};case"USERS_LOGIN_SUCCESS":return{loggedIn:!0,user:t.user};case"USERS_LOGIN_FAILURE":case"USERS_LOGOUT":return{};default:return e}},products:de}),ve=Object(ue.d)(pe,Object(ue.a)(oe.a));s.a.render(r.a.createElement(O.a,{store:ve},r.a.createElement(i.a,null,r.a.createElement(le,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[54,1,2]]]);
//# sourceMappingURL=main.2f9a7816.chunk.js.map